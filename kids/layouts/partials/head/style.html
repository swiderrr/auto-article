
<!-- Use Hugo Pipes to compile SCSS to CSS (css.Sass replaces deprecated resources.ToCSS) -->
{{ $style := resources.Get "scss/style.scss" | css.Sass | resources.Minify }}

<link rel="stylesheet" href="{{ $style.RelPermalink }}">

<!-- Custom CSS (if needed, prefer S3-hosted static files when configured) -->
{{ $s3 := .Site.Params.s3BaseURL }}
{{ if $s3 }}
  <!-- If an S3 base URL is configured we still include the local copy after it
       so local edits in /static/css/custom.css override or augment the S3-hosted file.
       This ensures development tweaks (colors, layout changes) take effect immediately. -->
  <link rel="stylesheet" href="{{ printf "%s/%s" $s3 "css/custom.css" }}">
  <link rel="stylesheet" href="{{ "css/custom.css" | relURL }}">
{{ else }}
  <link rel="stylesheet" href="{{ "css/custom.css" | relURL }}">
{{ end }}

<!-- Additional theme/vendor styles (fallbacks if present) -->
{{ if (resources.Get "css/bootstrap.min.css") }}
  {{ if $s3 }}
    <link rel="stylesheet" href="{{ printf "%s/%s" $s3 "css/bootstrap.min.css" }}">
  {{ else }}
    <link rel="stylesheet" href="{{ "css/bootstrap.min.css" | relURL }}">
  {{ end }}
{{ end }}
